{% extends "base.html" %}

{% block title %}{{ data.video_date }} ê²½ì œ ë¸Œë¦¬í•‘ - {% if data._mode == 'evening' %}í‡´ê·¼ìš”ì •{% else %}ëª¨ë‹ë£¨í‹´{% endif %}{% endblock
%}
{% block description %}{{ data.video_date }} {% if data._mode == 'evening' %}í‡´ê·¼ìš”ì •{% else %}ëª¨ë‹ë£¨í‹´{% endif %} ê²½ì œ ë‰´ìŠ¤ AI ë¶„ì„{%
endblock %}

{% block content %}
<!-- ë„¤ë¹„ê²Œì´ì…˜ (ì´ì „/ë‹¤ìŒ) -->
<div class="flex items-center justify-between mb-4 text-sm">
    {% if next_date %}
    <a href="{{ next_date }}.html"
        class="text-slate-500 hover:text-primary-600 no-underline flex items-center gap-1 transition-colors">
        â† ì´ì „ {{ next_date }}
    </a>
    {% else %}
    <span></span>
    {% endif %}

    {% if prev_date %}
    <a href="{{ prev_date }}.html"
        class="text-slate-500 hover:text-primary-600 no-underline flex items-center gap-1 transition-colors">
        ë‹¤ìŒ {{ prev_date }} â†’
    </a>
    {% else %}
    <span></span>
    {% endif %}
</div>

<!-- íˆì–´ë¡œ ì„¹ì…˜ -->
<div class="gradient-bg rounded-2xl p-6 mb-6 text-white animate-fade-in-up">
    <div class="flex items-center gap-2 mb-2">
        <span class="bg-white/20 text-xs font-semibold px-2.5 py-1 rounded-full">ğŸ“… {{ data.video_date }}</span>
        <span class="bg-white/20 text-xs font-semibold px-2.5 py-1 rounded-full">{% if data._mode == 'evening' %}ğŸŒ‡
            í‡´ê·¼ìš”ì •{% else %}â˜€ï¸ ëª¨ë‹ë£¨í‹´{% endif %}</span>
    </div>
    <h1 class="text-xl md:text-2xl font-bold mt-3 leading-tight">{{ data.video_title }}</h1>
    <a href="{{ data.video_url }}" target="_blank"
        class="inline-flex items-center gap-1.5 mt-4 bg-white/20 hover:bg-white/30 text-white text-sm font-medium px-4 py-2 rounded-xl transition-colors no-underline">
        â–¶ï¸ ì˜ìƒ ë³´ê¸°
    </a>
</div>

<!-- ìƒì„¸ ì›¹ ë¦¬í¬íŠ¸ -->
{% if web_report_html %}
<div class="bg-white rounded-xl border border-surface-200 p-5 md:p-6 mb-6 animate-fade-in-up animate-delay-1">
    <h2 class="text-base font-bold text-slate-800 mb-4 flex items-center gap-1.5 pb-3 border-b border-surface-200">
        ğŸ“‹ ìƒì„¸ ë¶„ì„ ë¦¬í¬íŠ¸
    </h2>
    <div class="prose-report text-sm">
        {{ web_report_html | safe }}
    </div>
</div>
{% endif %}

<!-- ì£¼ìš” í† í”½ íƒœê·¸ -->
{% if data.main_topics %}
<div class="mb-6 animate-fade-in-up animate-delay-2">
    <div class="flex flex-wrap gap-2">
        {% for topic in data.main_topics %}
        <span
            class="bg-primary-50 text-primary-700 text-xs font-semibold px-3 py-1.5 rounded-full border border-primary-100">
            #{{ topic }}
        </span>
        {% endfor %}
    </div>
</div>
{% endif %}

<!-- í•µì‹¬ ì¸ì‚¬ì´íŠ¸ -->
{% if data.key_insights %}
<div class="bg-amber-50 border border-amber-200 rounded-xl p-5 mb-6 animate-fade-in-up animate-delay-3">
    <h2 class="text-sm font-bold text-amber-800 mb-3 flex items-center gap-1.5">
        ğŸ’¡ í•µì‹¬ ì¸ì‚¬ì´íŠ¸
    </h2>
    <ul class="space-y-2">
        {% for insight in data.key_insights %}
        <li class="flex items-start gap-2 text-sm text-amber-900 leading-relaxed">
            <span class="text-amber-500 mt-0.5 flex-shrink-0">â–¸</span>
            <span>{{ insight }}</span>
        </li>
        {% endfor %}
    </ul>
</div>
{% endif %}

<!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
<div class="flex items-center justify-between py-6 border-t border-surface-200 mt-8">
    {% if next_date %}
    <a href="{{ next_date }}.html"
        class="flex items-center gap-2 text-sm text-slate-600 hover:text-primary-600 no-underline transition-colors bg-white border border-surface-200 px-4 py-2.5 rounded-xl hover:border-primary-200">
        <span>â†</span>
        <div>
            <div class="text-xs text-slate-400">ì´ì „ ({% if data._mode == 'evening' %}í‡´ê·¼ìš”ì •{% else %}ëª¨ë‹ë£¨í‹´{% endif %})</div>
            <div class="font-medium">{{ next_date }}</div>
        </div>
    </a>
    {% else %}
    <span></span>
    {% endif %}

    {% if prev_date %}
    <a href="{{ prev_date }}.html"
        class="flex items-center gap-2 text-sm text-slate-600 hover:text-primary-600 no-underline transition-colors bg-white border border-surface-200 px-4 py-2.5 rounded-xl hover:border-primary-200 text-right">
        <div>
            <div class="text-xs text-slate-400">ë‹¤ìŒ ({% if data._mode == 'evening' %}í‡´ê·¼ìš”ì •{% else %}ëª¨ë‹ë£¨í‹´{% endif %})</div>
            <div class="font-medium">{{ prev_date }}</div>
        </div>
        <span>â†’</span>
    </a>
    {% else %}
    <span></span>
    {% endif %}
</div>

{% endblock %}